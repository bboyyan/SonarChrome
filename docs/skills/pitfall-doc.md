# Pitfall Documentation Skill

當用戶要求記錄踩雷經驗時使用此 skill。

## 任務

為非工程師撰寫清晰易懂的踩雷文檔，記錄問題、診斷過程、解決方案和預防措施。

## 文檔結構

### 1. 問題總覽（給非工程師）
- 用簡單語言描述發生了什麼事
- 避免技術術語，用比喻或實際例子說明

### 2. 錯誤假設（我們一開始以為的原因）
- 記錄初步診斷過程
- 說明為什麼這些假設是錯的
- 記錄做了哪些無效的修復嘗試

### 3. 真正的根本原因（Root Cause）
- 使用專業工具（如 root-cause-analyst）的調查結果
- 區分「症狀」和「根本原因」
- 提供具體證據（資料庫查詢結果、錯誤訊息等）

### 4. 解決方案
- 詳細記錄每個解決步驟
- 包含實際執行的指令或程式碼
- 說明每個步驟的結果

### 5. 關鍵解法
- 總結最重要的洞察
- 說明什麼方法有效、什麼方法無效
- 提供「正確做法 vs 錯誤做法」對比

### 6. 預防措施
- ✅ DO（正確做法）清單
- ❌ DON'T（錯誤做法）清單
- 提供檢查清單

### 7. 影響評估
- 修復前的狀態
- 修復後的狀態
- 剩餘的技術債

### 8. 學到的教訓
- 對非工程師的啟示
- 對工程師的技術教訓

## 寫作原則

### 語言風格
1. **使用簡單語言**
   - ❌ "資料庫 schema 缺少欄位定義"
   - ✅ "系統的資料儲存格式缺少某些資訊欄位"

2. **使用比喻**
   - ❌ "watch service 未運行導致檔案未被索引"
   - ✅ "就像你把書放進圖書館，但圖書館員還沒有登記到系統裡"

3. **視覺化呈現**
   - 使用表格對比「修復前 vs 修復後」
   - 使用 emoji 標記狀態（✅❌⚠️）
   - 使用程式碼區塊展示實際指令

### 內容要求
1. **證據導向**
   - 提供實際的錯誤訊息
   - 附上資料庫查詢結果
   - 包含修復前後的對比

2. **可操作性**
   - 提供具體的檢查清單
   - 包含完整的指令範例
   - 說明如何驗證修復效果

3. **系統性思考**
   - 不只記錄「怎麼修」
   - 更要記錄「為什麼會發生」
   - 提供「如何避免」的方法

## 文件命名規範

```
/app/doc/memory/U{編號}-{問題簡述}/踩雷文檔.md
```

例如：
- `U001-資料庫連線失敗/踩雷文檔.md`
- `U002-HTML筆記顯示與索引問題/踩雷文檔.md`
- `U003-前端編譯錯誤/踩雷文檔.md`

## 模板

創建文檔時，使用以下結構：

```markdown
# U{編號} 踩雷文檔：{問題標題}

> **日期**：YYYY-MM-DD
> **負責人**：{誰負責}
> **影響範圍**：{影響哪些功能}

---

## 📋 問題總覽（給非工程師）

### 發生了什麼事？
[用簡單語言描述問題]

---

## 🔍 我們一開始以為的原因（錯誤假設）

### 第一次診斷：...
[記錄初步診斷]

**我們做的修復（治標不治本）**：
- [修復嘗試 1]
- [修復嘗試 2]

**結果**：[是否有效]

---

## 💡 真正的根本原因（Root Cause）

### 使用專業工具深入調查
[使用什麼工具]

### 🔴 根本原因 #1：...
**發現**：
[具體證據]

**簡單來說**：
[非技術解釋]

**為什麼會這樣？**
[原因分析]

---

## 🛠️ 解決方案

### 解決方案 1：...
**做了什麼**：
[步驟]

**結果**：
[效果]

---

## 🎯 關鍵解法是什麼？

### 1. [關鍵洞察 1]
**錯誤做法**：
- [錯誤方法]

**正確做法**：
- [正確方法]

---

## 🚫 之後如何避免這個問題？

### ✅ DO（正確做法）
1. [做法 1]
2. [做法 2]

### ❌ DON'T（錯誤做法）
1. [錯誤 1]
2. [錯誤 2]

---

## 📊 影響評估

### 修復前
- ❌ [問題 1]

### 修復後
- ✅ [改善 1]

---

## 📚 技術債與後續改進

### 1. [改進項目 1]（優先級）
**問題**：...
**改進方案**：...

---

## 🎓 學到的教訓

### 對非工程師
1. [教訓 1]

### 對工程師
1. [教訓 1]

---

## ✅ 檢查清單（未來遇到類似問題）

- [ ] [檢查項目 1]
- [ ] [檢查項目 2]

---

**結論**：[總結核心發現和解決方案]
```

## 使用範例

```bash
# 調用這個 skill
使用 pitfall-doc skill 記錄這次的問題
```

或直接說：

```
幫我寫踩雷文檔，記錄我們剛才遇到的問題
```

Claude 會自動：
1. 創建適當的資料夾（U{編號}-{問題名稱}）
2. 使用模板生成文檔
3. 填入實際的問題、診斷過程、解決方案
4. 提供給非工程師的簡化說明
